(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-55bbbe0f"],{"061c":function(t,o,s){},1148:function(t,o,s){"use strict";var e=s("a691"),i=s("1d80");t.exports="".repeat||function(t){var o=String(i(this)),s="",r=e(t);if(r<0||r==1/0)throw RangeError("Wrong number of repetitions");for(;r>0;(r>>>=1)&&(o+=o))1&r&&(s+=o);return s}},"159b":function(t,o,s){var e=s("da84"),i=s("fdbc"),r=s("17c2"),n=s("9112");for(var c in i){var a=e[c],d=a&&a.prototype;if(d&&d.forEach!==r)try{n(d,"forEach",r)}catch(u){d.forEach=r}}},"17c2":function(t,o,s){"use strict";var e=s("b727").forEach,i=s("a640"),r=s("ae40"),n=i("forEach"),c=r("forEach");t.exports=n&&c?[].forEach:function(t){return e(this,t,arguments.length>1?arguments[1]:void 0)}},"1a3f":function(t,o,s){},"2bd2":function(t,o,s){},3682:function(t,o,s){"use strict";s("1a3f")},4e3:function(t,o,s){"use strict";s.r(o);var e=function(){var t=this,o=t.$createElement,s=t._self._c||o;return s("div",{staticClass:"good_des"},[s("GoodsDesSelect",{attrs:{goodsId:t.goodsId}}),s("GoodsDesNavbar",{attrs:{goodsId:t.goodsId}}),s("transition",{attrs:{mode:"out-in",appear:""}},[s("router-view")],1)],1)},i=[],r=function(){var t=this,o=t.$createElement,s=t._self._c||o;return s("div",{staticClass:"goods_select"},[s("div",{staticClass:"goods_select_container"},[s("div",{staticClass:"left"},[s("div",{staticClass:"large_img",on:{mouseenter:function(o){t.flag=!0},mouseleave:function(o){t.flag=!1}}},[s("div",{staticClass:"imgMask",on:{mousemove:t.showZoop}}),s("div",{staticClass:"mask",class:{show:t.flag},style:t.maskStyle}),s("img",{attrs:{src:t.largeImg}})]),s("div",{staticClass:"img_list"},[s("div",{staticClass:"img_list_container"},t._l(t.imgList,(function(o,e){return s("img",{key:e,attrs:{src:o.infoImg},on:{mouseenter:t.mouseEnter}})})),0)]),s("div",{class:{zoom:!0,show:t.flag},style:{"background-image":"url('"+t.largeImg+"')","background-repeat":"no-repeat","background-size":"1030px 1030px","background-position":t.posX+" "+t.posY}})]),s("div",{staticClass:"right"},[s("div",{staticClass:"right_container"},[s("h1",{staticClass:"title"},[t._v(t._s(t.goods.goodsName))]),s("p",{staticClass:"des"},[t._v(t._s(t.goods.goodsDes))]),s("div",{staticClass:"summary"},[s("div",{staticClass:"summary_price"},[t._v(t._s(t._f("priceFilter")(t.totalPrice)))]),s("div",{staticClass:"summary_coupon"},[s("ul",{staticClass:"summary_coupon_list"},t._l(t.couponList,(function(o){return s("li",{key:o.couponId},[s("span",[t._v(t._s(o.couponType))]),s("p",[t._v(t._s(o.couponDes))])])})),0)])]),s("div",{staticClass:"support"},[s("span",[t._v("商品支持：")]),t._l(t.commodityList,(function(o){return s("span",{key:o.commodityId,staticClass:"support_item"},[s("i",{staticClass:"el-icon-circle-check"}),t._v(t._s(o.commodityType))])}))],2),s("div",{staticClass:"color"},[s("p",{staticClass:"color_title"},[t._v("颜色")]),s("div",{staticClass:"color_list"},t._l(t.colorList,(function(o){return s("div",{key:o.colorId,class:{color_item:!0,active:t.checkGoodsColor===o.colorName},on:{click:function(s){return t.colorClick(o.colorName)}}},[t._v(" "+t._s(o.colorName)+" ")])})),0)]),s("div",{staticClass:"color"},[s("p",{staticClass:"color_title"},[t._v("版本")]),s("div",{staticClass:"color_list"},t._l(t.versionList,(function(o){return s("div",{key:o.versionId,class:{color_item:!0,active:t.checkGoodsVersion===o.versionName},on:{click:function(s){return t.versionClick(o)}}},[t._v(" "+t._s(o.versionName)+" ")])})),0)]),s("div",{staticClass:"final_price"},[s("span",{staticClass:"total_price"},[t._v(t._s(t._f("priceFilter")(t.totalPrice)))]),s("span",{staticClass:"check_goods"},[t._v("已选："+t._s(t.checkGoods))])]),s("div",{staticClass:"buy"},[s("el-button",{attrs:{type:"danger",round:""},on:{click:t.addShoppingCart}},[t._v("加入购物车")]),s("el-button",{staticClass:"shopping_cart",attrs:{type:"danger",icon:"el-icon-shopping-cart-2",circle:""},on:{click:t.toShoppingCart}}),s("div",{staticClass:"ball",class:{to_cart:t.isToCart}})],1)])])])])},n=[],c=(s("99af"),s("4160"),s("a9e3"),s("b680"),s("159b"),s("1bab"));function a(t){return Object(c["a"])({url:"getGoodsByGoodsId?goodsId="+t})}function d(t){return Object(c["a"])({url:"getInfoImsByGoodsId?goodsId="+t})}function u(t){return Object(c["a"])({url:"getCouponByGoodsId?goodsId="+t})}function l(t){return Object(c["a"])({url:"getCommodityByGoodsId?goodsId="+t})}function f(t){return Object(c["a"])({url:"getColorByGoodsId?goodsId="+t})}function h(t){return Object(c["a"])({url:"getVersionByGoodsId?goodsId="+t})}function g(t){return Object(c["a"])({url:"addShoppingCart",method:"post",data:t})}var p={props:{goodsId:{type:Number,default:-1}},data:function(){return{checkGoodsColor:"",checkGoodsVersion:"",goods:{},largeImg:"",imgList:[],couponList:[],commodityList:[],colorList:[],versionList:[],rate:1,discount:0,flag:!1,position:{},maskStyle:{left:"",top:""},posX:"0px",posY:"0px",isToCart:!1,timer:null}},mounted:function(){this.getGoodsByGoodsId(),this.getInfoImsByGoodsId(),this.getCouponByGoodsId(),this.getCommodityByGoodsId(),this.getColorByGoodsId(),this.getVersionByGoodsId()},methods:{getGoodsByGoodsId:function(){var t=this;a(this.goodsId).then((function(o){t.goods=o.data}))},getInfoImsByGoodsId:function(){var t=this;d(this.goodsId).then((function(o){t.imgList=o.data,t.largeImg=t.imgList[0].infoImg}))},getCouponByGoodsId:function(){var t=this;u(this.goodsId).then((function(o){t.couponList=o.data}))},getCommodityByGoodsId:function(){var t=this;l(this.goodsId).then((function(o){t.commodityList=o.data}))},getColorByGoodsId:function(){var t=this;f(this.goodsId).then((function(o){t.colorList=o.data,t.checkGoodsColor=t.colorList[0].colorName}))},getVersionByGoodsId:function(){var t=this;h(this.goodsId).then((function(o){t.versionList=o.data,t.checkGoodsVersion=t.versionList[0].versionName}))},mouseEnter:function(t){this.largeImg=t.target.currentSrc},colorClick:function(t){this.checkGoodsColor=t},versionClick:function(t){this.checkGoodsVersion=t.versionName,this.rate=t.versionPriceRate},getDiscount:function(){var t=this;this.discount=0,this.couponList.forEach((function(o){t.discount+=parseFloat(o.couponDiscount)}))},toShoppingCart:function(){this.$router.push("/shoppingCart")},addShoppingCart:function(){var t=this;this.isToCart=!0,this.timer&&clearTimeout(this.timer),this.timer=setTimeout((function(){t.isToCart=!1}),1e3);var o=[],s=!1;this.getDiscount();var e={goodsId:this.goods.goodsId,username:this.$store.state.user?this.$store.state.user.username:null,color:this.checkGoodsColor,version:this.checkGoodsVersion,price:this.totalPrice,discount:this.discount,num:1,img:this.goods.goodsImg,totalName:this.totalName};null===this.$store.state.user?(null!==localStorage.getItem("goodsList")?(o=JSON.parse(localStorage.getItem("goodsList")),o.forEach((function(o){if(o.totalName===t.totalName)return o.num++,void(s=!0)})),!1===s&&o.push(e)):o.push(e),localStorage.setItem("goodsList",JSON.stringify(o)),this.$message({message:"加入购物车成功！",type:"success",center:!0})):g(e).then((function(o){1===o.data.status?t.$message({message:o.data.msg,type:"success",center:!0}):t.$message({message:o.data.msg,type:"error",center:!0})}))},showZoop:function(t){var o=t.offsetX-129,s=t.offsetY-129;o<0?o=0:o>256&&(o=256),s<0?s=0:s>256&&(s=256),this.maskStyle.left=o+"px",this.maskStyle.top=s+"px",this.posX=-2*o+"px",this.posY=-2*s+"px"}},filters:{priceFilter:function(t){return"￥".concat(t.toFixed(2))}},computed:{checkGoods:function(){return"".concat(this.checkGoodsVersion," ").concat(this.checkGoodsColor)},totalPrice:function(){return parseFloat(this.goods.goodsPrice)*parseFloat(this.rate)},totalName:function(){return"".concat(this.goods.goodsName," ").concat(this.checkGoodsVersion," ").concat(this.checkGoodsColor)}}},m=p,v=(s("ec7b"),s("2877")),I=Object(v["a"])(m,r,n,!1,null,"8748a154",null),C=I.exports,_=function(){var t=this,o=t.$createElement,s=t._self._c||o;return s("div",{staticClass:"goods_des_navbar"},[s("div",{staticClass:"tabs"},[s("ul",t._l(t.navList,(function(o,e){return s("li",{key:e},[s("router-link",{attrs:{to:{path:t.$store.state.desRouters[e],query:{goodsId:t.goodsId}}}},[s("span",{class:{active:e===t.clickIndex},on:{click:function(o){t.clickIndex=e}}},[t._v(t._s(o))])])],1)})),0)])])},y=[],b={props:{goodsId:{type:Number,default:-1}},data:function(){return{navList:["规格参数","详细信息","评价"],clickIndex:0}},mounted:function(){this.initClickIndex()},beforeRouteEnter:function(){this.initClickIndex()},methods:{initClickIndex:function(){"/goodsDes/des"===this.$route.path?this.clickIndex=0:"/goodsDes/imgs"===this.$route.path?this.clickIndex=1:"/goodsDes/comments"===this.$route.path?this.clickIndex=2:this.clickIndex=0}}},k=b,L=(s("3682"),Object(v["a"])(k,_,y,!1,null,"7d4c9d36",null)),G=L.exports,N={components:{GoodsDesSelect:C,GoodsDesNavbar:G},data:function(){return{goodsId:-1}},beforeMount:function(){this.goodsId=parseInt(this.$route.query.goodsId)}},S=N,x=(s("cde3"),Object(v["a"])(S,e,i,!1,null,"ba6583be",null));o["default"]=x.exports},"408a":function(t,o,s){var e=s("c6b6");t.exports=function(t){if("number"!=typeof t&&"Number"!=e(t))throw TypeError("Incorrect invocation");return+t}},4160:function(t,o,s){"use strict";var e=s("23e7"),i=s("17c2");e({target:"Array",proto:!0,forced:[].forEach!=i},{forEach:i})},5899:function(t,o){t.exports="\t\n\v\f\r                　\u2028\u2029\ufeff"},"58a8":function(t,o,s){var e=s("1d80"),i=s("5899"),r="["+i+"]",n=RegExp("^"+r+r+"*"),c=RegExp(r+r+"*$"),a=function(t){return function(o){var s=String(e(o));return 1&t&&(s=s.replace(n,"")),2&t&&(s=s.replace(c,"")),s}};t.exports={start:a(1),end:a(2),trim:a(3)}},7156:function(t,o,s){var e=s("861d"),i=s("d2bb");t.exports=function(t,o,s){var r,n;return i&&"function"==typeof(r=o.constructor)&&r!==s&&e(n=r.prototype)&&n!==s.prototype&&i(t,n),t}},8418:function(t,o,s){"use strict";var e=s("c04e"),i=s("9bf2"),r=s("5c6c");t.exports=function(t,o,s){var n=e(o);n in t?i.f(t,n,r(0,s)):t[n]=s}},"99af":function(t,o,s){"use strict";var e=s("23e7"),i=s("d039"),r=s("e8b5"),n=s("861d"),c=s("7b0b"),a=s("50c4"),d=s("8418"),u=s("65f0"),l=s("1dde"),f=s("b622"),h=s("2d00"),g=f("isConcatSpreadable"),p=9007199254740991,m="Maximum allowed index exceeded",v=h>=51||!i((function(){var t=[];return t[g]=!1,t.concat()[0]!==t})),I=l("concat"),C=function(t){if(!n(t))return!1;var o=t[g];return void 0!==o?!!o:r(t)},_=!v||!I;e({target:"Array",proto:!0,forced:_},{concat:function(t){var o,s,e,i,r,n=c(this),l=u(n,0),f=0;for(o=-1,e=arguments.length;o<e;o++)if(r=-1===o?n:arguments[o],C(r)){if(i=a(r.length),f+i>p)throw TypeError(m);for(s=0;s<i;s++,f++)s in r&&d(l,f,r[s])}else{if(f>=p)throw TypeError(m);d(l,f++,r)}return l.length=f,l}})},a9e3:function(t,o,s){"use strict";var e=s("83ab"),i=s("da84"),r=s("94ca"),n=s("6eeb"),c=s("5135"),a=s("c6b6"),d=s("7156"),u=s("c04e"),l=s("d039"),f=s("7c73"),h=s("241c").f,g=s("06cf").f,p=s("9bf2").f,m=s("58a8").trim,v="Number",I=i[v],C=I.prototype,_=a(f(C))==v,y=function(t){var o,s,e,i,r,n,c,a,d=u(t,!1);if("string"==typeof d&&d.length>2)if(d=m(d),o=d.charCodeAt(0),43===o||45===o){if(s=d.charCodeAt(2),88===s||120===s)return NaN}else if(48===o){switch(d.charCodeAt(1)){case 66:case 98:e=2,i=49;break;case 79:case 111:e=8,i=55;break;default:return+d}for(r=d.slice(2),n=r.length,c=0;c<n;c++)if(a=r.charCodeAt(c),a<48||a>i)return NaN;return parseInt(r,e)}return+d};if(r(v,!I(" 0o1")||!I("0b1")||I("+0x1"))){for(var b,k=function(t){var o=arguments.length<1?0:t,s=this;return s instanceof k&&(_?l((function(){C.valueOf.call(s)})):a(s)!=v)?d(new I(y(o)),s,k):y(o)},L=e?h(I):"MAX_VALUE,MIN_VALUE,NaN,NEGATIVE_INFINITY,POSITIVE_INFINITY,EPSILON,isFinite,isInteger,isNaN,isSafeInteger,MAX_SAFE_INTEGER,MIN_SAFE_INTEGER,parseFloat,parseInt,isInteger,fromString,range".split(","),G=0;L.length>G;G++)c(I,b=L[G])&&!c(k,b)&&p(k,b,g(I,b));k.prototype=C,C.constructor=k,n(i,v,k)}},b680:function(t,o,s){"use strict";var e=s("23e7"),i=s("a691"),r=s("408a"),n=s("1148"),c=s("d039"),a=1..toFixed,d=Math.floor,u=function(t,o,s){return 0===o?s:o%2===1?u(t,o-1,s*t):u(t*t,o/2,s)},l=function(t){var o=0,s=t;while(s>=4096)o+=12,s/=4096;while(s>=2)o+=1,s/=2;return o},f=a&&("0.000"!==8e-5.toFixed(3)||"1"!==.9.toFixed(0)||"1.25"!==1.255.toFixed(2)||"1000000000000000128"!==(0xde0b6b3a7640080).toFixed(0))||!c((function(){a.call({})}));e({target:"Number",proto:!0,forced:f},{toFixed:function(t){var o,s,e,c,a=r(this),f=i(t),h=[0,0,0,0,0,0],g="",p="0",m=function(t,o){var s=-1,e=o;while(++s<6)e+=t*h[s],h[s]=e%1e7,e=d(e/1e7)},v=function(t){var o=6,s=0;while(--o>=0)s+=h[o],h[o]=d(s/t),s=s%t*1e7},I=function(){var t=6,o="";while(--t>=0)if(""!==o||0===t||0!==h[t]){var s=String(h[t]);o=""===o?s:o+n.call("0",7-s.length)+s}return o};if(f<0||f>20)throw RangeError("Incorrect fraction digits");if(a!=a)return"NaN";if(a<=-1e21||a>=1e21)return String(a);if(a<0&&(g="-",a=-a),a>1e-21)if(o=l(a*u(2,69,1))-69,s=o<0?a*u(2,-o,1):a/u(2,o,1),s*=4503599627370496,o=52-o,o>0){m(0,s),e=f;while(e>=7)m(1e7,0),e-=7;m(u(10,e,1),0),e=o-1;while(e>=23)v(1<<23),e-=23;v(1<<e),m(1,1),v(2),p=I()}else m(0,s),m(1<<-o,0),p=I()+n.call("0",f);return f>0?(c=p.length,p=g+(c<=f?"0."+n.call("0",f-c)+p:p.slice(0,c-f)+"."+p.slice(c-f))):p=g+p,p}})},cde3:function(t,o,s){"use strict";s("061c")},ec7b:function(t,o,s){"use strict";s("2bd2")},fdbc:function(t,o){t.exports={CSSRuleList:0,CSSStyleDeclaration:0,CSSValueList:0,ClientRectList:0,DOMRectList:0,DOMStringList:0,DOMTokenList:1,DataTransferItemList:0,FileList:0,HTMLAllCollection:0,HTMLCollection:0,HTMLFormElement:0,HTMLSelectElement:0,MediaList:0,MimeTypeArray:0,NamedNodeMap:0,NodeList:1,PaintRequestList:0,Plugin:0,PluginArray:0,SVGLengthList:0,SVGNumberList:0,SVGPathSegList:0,SVGPointList:0,SVGStringList:0,SVGTransformList:0,SourceBufferList:0,StyleSheetList:0,TextTrackCueList:0,TextTrackList:0,TouchList:0}}}]);
//# sourceMappingURL=chunk-55bbbe0f.5e7af6b0.js.map